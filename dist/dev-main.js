(()=>{"use strict";const t=class{static getItem(t){return localStorage.getItem(t)}static setItem(t,e){localStorage.setItem(t,e)}},e=new class{#t;#e;#s;constructor(){const t=document.currentScript;t?this.#t=new URL(t.src):(console.warn("Unable to determine script URL."),this.#t=null)}get nocache(){return!!this.#t&&!!this.#t.searchParams.get("nocache")}get origin(){return void 0===this.#e&&(this.#t?this.#e=`${this.#t.origin}${this.#t.pathname.substring(0,this.#t.pathname.lastIndexOf("/")+1)}`:this.#e=""),this.#e}get theme(){if(void 0===this.#s){const e=t.getItem("custom-theme");e?this.#s=e:this.#t?this.#s=this.#t.searchParams.get("theme")||"":this.#s=""}return this.#s}set theme(e){this.#s=e,t.setItem("custom-theme",e)}};class s{static#i=!1;#r;#l;#h=!1;#n="";#c="";#a=null;#m=null;constructor(t,e){this.#r=t,this.#l=e}static bypassCache(t){s.#i=t}set script(t){this.#n!==t&&(this.#n=t,this.#h=!0)}set style(t){this.#c!==t&&(this.#c=t,this.#h=!0)}get scriptElement(){return this.#a}get styleElement(){return this.#m}unload(){this.#o(),this.#p(),this.#c="",this.#n="",this.#h=!1}async load(){if(!this.#h)return;this.#o(),this.#p();const t=[];this.#n&&t.push(this.#d()),this.#c&&t.push(this.#u()),await Promise.all(t),this.#h=!1}#o(){this.#a&&(document.head.removeChild(this.#a),this.#a=null)}#p(){this.#m&&(document.head.removeChild(this.#m),this.#m=null)}#y(t){let e=`${this.#l}${t}`;return s.#i&&(e+=`?nocache=${Date.now()}`),e}#d(){return new Promise(((t,e)=>{this.#a=document.createElement("script"),this.#a.id=`${this.#r}-script`,this.#a.src=this.#y(this.#n),this.#a.onload=t,this.#a.onerror=e,document.head.appendChild(this.#a)}))}#u(){return new Promise(((t,e)=>{this.#m=document.createElement("link"),this.#m.id=`${this.#r}-style`,this.#m.rel="stylesheet",this.#m.href=this.#y(this.#c),this.#m.onload=t,this.#m.onerror=e,document.head.appendChild(this.#m)}))}}const i=s;i.bypassCache(!0);const r=new i("dev-main",e.origin);r.script="main.js",r.load()})();